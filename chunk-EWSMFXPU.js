import{r as pe}from"./chunk-OQFNUX7I.js";import"./chunk-RDONBS7L.js";import{a as w}from"./chunk-XOGH2X2Y.js";import{A as B,B as D,G,H as ae,I as V,J as me,a as E,b as d,d as P,e as I,fa as se,ga as le,h as F,ha as z,i as L,ia as de,j as O,l as T,m as re,n as ne,o as N,q as ie,r as R,s as k,t as q,v as j,w as A,z as oe}from"./chunk-I2TVIS6N.js";import{Db as $,Fa as n,Ga as r,Ha as u,K as x,Kb as y,L as U,Lb as b,Lc as te,Oa as v,Ob as ee,Pc as X,Qc as h,Sc as f,Tc as H,U as Z,Uc as W,Ya as i,ga as a,ha as g,ua as c,wa as o,xb as S}from"./chunk-IHZFMBYR.js";function be(e,s){e&1&&(n(0,"mat-error"),i(1," Email is required "),r())}function we(e,s){e&1&&(n(0,"mat-error"),i(1," Please enter a valid email address "),r())}function Ee(e,s){e&1&&(n(0,"mat-error"),i(1," Password is required "),r())}function Pe(e,s){e&1&&(n(0,"mat-error"),i(1," Password must be at least 6 characters "),r())}function Ie(e,s){e&1&&u(0,"mat-spinner",11)}function Fe(e,s){e&1&&(n(0,"span"),i(1,"Login"),r())}var ue=(()=>{class e{fb;authService;router;snackBar;loginForm;isLoading=!1;formState="";constructor(l,m,t,p){this.fb=l,this.authService=m,this.router=t,this.snackBar=p,this.loginForm=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0;let{email:l,password:m}=this.loginForm.value;this.authService.login(l,m).subscribe({next:()=>{this.isLoading=!1,this.showSuccessAnimation(),this.snackBar.open("Login successful! Welcome back! \u{1F389}","Close",{duration:3e3,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"top"}),setTimeout(()=>{this.router.navigate(["/home"])},1e3)},error:t=>{this.isLoading=!1,this.showErrorAnimation(),this.snackBar.open(t.error?.message||"Invalid email or password","Close",{duration:3e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}})}else this.formState="invalid",setTimeout(()=>this.formState="",500)}showSuccessAnimation(){this.formState="success"}showErrorAnimation(){this.formState="invalid",setTimeout(()=>this.formState="",500)}static \u0275fac=function(m){return new(m||e)(g(T),g(w),g(y),g(se))};static \u0275cmp=x({type:e,selectors:[["app-login"]],decls:27,vars:10,consts:[[1,"login-container"],[1,"login-card"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],[4,"ngIf"],["matInput","","formControlName","password","type","password","placeholder","Enter your password"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20",4,"ngIf"],[1,"text-center"],["routerLink","/auth/register"],["diameter","20"]],template:function(m,t){if(m&1&&(n(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),i(4,"Login"),r()(),n(5,"mat-card-content")(6,"form",2),v("ngSubmit",function(){return t.onSubmit()}),n(7,"mat-form-field",3)(8,"mat-label"),i(9,"Email"),r(),u(10,"input",4),c(11,be,2,0,"mat-error",5)(12,we,2,0,"mat-error",5),r(),n(13,"mat-form-field",3)(14,"mat-label"),i(15,"Password"),r(),u(16,"input",6),c(17,Ee,2,0,"mat-error",5)(18,Pe,2,0,"mat-error",5),r(),n(19,"button",7),c(20,Ie,1,0,"mat-spinner",8)(21,Fe,2,0,"span",5),r()()(),n(22,"mat-card-actions")(23,"p",9),i(24," Don't have an account? "),n(25,"a",10),i(26,"Register here"),r()()()()()),m&2){let p,_,C,M;o("@fadeInOut",void 0),a(),o("@shake",t.formState),a(5),o("formGroup",t.loginForm),a(5),o("ngIf",(p=t.loginForm.get("email"))==null?null:p.hasError("required")),a(),o("ngIf",(_=t.loginForm.get("email"))==null?null:_.hasError("email")),a(5),o("ngIf",(C=t.loginForm.get("password"))==null?null:C.hasError("required")),a(),o("ngIf",(M=t.loginForm.get("password"))==null?null:M.hasError("minlength")),a(),o("disabled",t.loginForm.invalid||t.isLoading),a(),o("ngIf",t.isLoading),a(),o("ngIf",!t.isLoading)}},dependencies:[S,F,E,P,I,L,O,N,R,j,q,A,k,V,G,B,D,z,b],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:20px}.login-card[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:20px;box-shadow:0 4px 6px #0000001a}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}mat-card-header[_ngcontent-%COMP%]{margin-bottom:20px;justify-content:center}mat-card-title[_ngcontent-%COMP%]{font-size:24px;color:#333}mat-card-actions[_ngcontent-%COMP%]{padding:16px;text-align:center}.text-center[_ngcontent-%COMP%]{text-align:center;margin:0;color:#666}a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}button[type=submit][_ngcontent-%COMP%]{height:48px;font-size:16px;display:flex;justify-content:center;align-items:center}mat-spinner[_ngcontent-%COMP%]{margin:0 auto}",`.login-container[_ngcontent-%COMP%] {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 80vh;
  padding: 20px;
}

.login-card[_ngcontent-%COMP%] {
  width: 100%;
  max-width: 400px;
  margin: auto;
}

.full-width[_ngcontent-%COMP%] {
  width: 100%;
  margin-bottom: 16px;
}

.text-center[_ngcontent-%COMP%] {
  text-align: center;
  margin: 16px 0;
}

[_nghost-%COMP%]     .success-snackbar {
  background: #4caf50;
  color: white;
}

[_nghost-%COMP%]     .error-snackbar {
  background: #f44336;
  color: white;
}

mat-form-field[_ngcontent-%COMP%] {
  margin-bottom: 16px;
}

button[type="submit"][_ngcontent-%COMP%] {
  margin-top: 16px;
}

.mat-mdc-card-header[_ngcontent-%COMP%] {
  margin-bottom: 16px;
}`],data:{animation:[X("fadeInOut",[H("void",f({opacity:0,transform:"translateY(-20px)"})),W("void <=> *",h("300ms ease-in-out"))]),X("shake",[H("invalid",f({transform:"translateX(0)"})),W("* => invalid",[h("100ms",f({transform:"translateX(-10px)"})),h("100ms",f({transform:"translateX(10px)"})),h("100ms",f({transform:"translateX(-10px)"})),h("100ms",f({transform:"translateX(0)"}))])])]}})}return e})();function Le(e,s){e&1&&(n(0,"mat-error"),i(1," Name is required "),r())}function Oe(e,s){e&1&&(n(0,"mat-error"),i(1," Name must be at least 3 characters "),r())}function Te(e,s){e&1&&(n(0,"mat-error"),i(1," Email is required "),r())}function Ne(e,s){e&1&&(n(0,"mat-error"),i(1," Please enter a valid email address "),r())}function Re(e,s){e&1&&(n(0,"mat-error"),i(1," Password is required "),r())}function ke(e,s){e&1&&(n(0,"mat-error"),i(1," Password must be at least 6 characters "),r())}function qe(e,s){e&1&&(n(0,"mat-error"),i(1," Please confirm your password "),r())}function je(e,s){e&1&&(n(0,"mat-error"),i(1," Passwords do not match "),r())}function Ae(e,s){e&1&&u(0,"mat-spinner",13)}function Be(e,s){e&1&&(n(0,"span"),i(1,"Register"),r())}var ge=(()=>{class e{fb;authService;router;registerForm;isLoading=!1;constructor(l,m,t){this.fb=l,this.authService=m,this.router=t,this.registerForm=this.fb.group({name:["",[d.required,d.minLength(3)]],email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]],confirmPassword:["",[d.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(l){let m=l.get("password"),t=l.get("confirmPassword");m&&t&&m.value!==t.value&&t.setErrors({passwordMismatch:!0})}onSubmit(){if(this.registerForm.valid){this.isLoading=!0;let{name:l,email:m,password:t}=this.registerForm.value;this.authService.register({name:l,email:m,password:t}).subscribe({next:()=>{this.router.navigate(["/auth/login"])},error:p=>{this.isLoading=!1}})}}static \u0275fac=function(m){return new(m||e)(g(T),g(w),g(y))};static \u0275cmp=x({type:e,selectors:[["app-register"]],decls:39,vars:12,consts:[[1,"register-container"],[1,"register-card"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","placeholder","Enter your name"],[4,"ngIf"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matInput","","formControlName","password","type","password","placeholder","Enter your password"],["matInput","","formControlName","confirmPassword","type","password","placeholder","Confirm your password"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20",4,"ngIf"],[1,"text-center"],["routerLink","/auth/login"],["diameter","20"]],template:function(m,t){if(m&1&&(n(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),i(4,"Register"),r()(),n(5,"mat-card-content")(6,"form",2),v("ngSubmit",function(){return t.onSubmit()}),n(7,"mat-form-field",3)(8,"mat-label"),i(9,"Name"),r(),u(10,"input",4),c(11,Le,2,0,"mat-error",5)(12,Oe,2,0,"mat-error",5),r(),n(13,"mat-form-field",3)(14,"mat-label"),i(15,"Email"),r(),u(16,"input",6),c(17,Te,2,0,"mat-error",5)(18,Ne,2,0,"mat-error",5),r(),n(19,"mat-form-field",3)(20,"mat-label"),i(21,"Password"),r(),u(22,"input",7),c(23,Re,2,0,"mat-error",5)(24,ke,2,0,"mat-error",5),r(),n(25,"mat-form-field",3)(26,"mat-label"),i(27,"Confirm Password"),r(),u(28,"input",8),c(29,qe,2,0,"mat-error",5)(30,je,2,0,"mat-error",5),r(),n(31,"button",9),c(32,Ae,1,0,"mat-spinner",10)(33,Be,2,0,"span",5),r()()(),n(34,"mat-card-actions")(35,"p",11),i(36," Already have an account? "),n(37,"a",12),i(38,"Login here"),r()()()()()),m&2){let p,_,C,M,Y,J,K,Q;a(6),o("formGroup",t.registerForm),a(5),o("ngIf",(p=t.registerForm.get("name"))==null?null:p.hasError("required")),a(),o("ngIf",(_=t.registerForm.get("name"))==null?null:_.hasError("minlength")),a(5),o("ngIf",(C=t.registerForm.get("email"))==null?null:C.hasError("required")),a(),o("ngIf",(M=t.registerForm.get("email"))==null?null:M.hasError("email")),a(5),o("ngIf",(Y=t.registerForm.get("password"))==null?null:Y.hasError("required")),a(),o("ngIf",(J=t.registerForm.get("password"))==null?null:J.hasError("minlength")),a(5),o("ngIf",(K=t.registerForm.get("confirmPassword"))==null?null:K.hasError("required")),a(),o("ngIf",(Q=t.registerForm.get("confirmPassword"))==null?null:Q.hasError("passwordMismatch")),a(),o("disabled",t.registerForm.invalid||t.isLoading),a(),o("ngIf",t.isLoading),a(),o("ngIf",!t.isLoading)}},dependencies:[S,F,E,P,I,L,O,N,R,j,q,A,k,V,G,B,D,z,b],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:20px}.register-card[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:20px;box-shadow:0 4px 6px #0000001a}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}mat-card-header[_ngcontent-%COMP%]{margin-bottom:20px;justify-content:center}mat-card-title[_ngcontent-%COMP%]{font-size:24px;color:#333}mat-card-actions[_ngcontent-%COMP%]{padding:16px;text-align:center}.text-center[_ngcontent-%COMP%]{text-align:center;margin:0;color:#666}a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}button[type=submit][_ngcontent-%COMP%]{height:48px;font-size:16px;display:flex;justify-content:center;align-items:center}mat-spinner[_ngcontent-%COMP%]{margin:0 auto}"]})}return e})();var De=[{path:"login",component:ue},{path:"register",component:ge}],at=(()=>{class e{static \u0275fac=function(m){return new(m||e)};static \u0275mod=U({type:e});static \u0275inj=Z({imports:[$,re,ne,pe,ee.forChild(De),ae,me,ie,oe,te,le,de]})}return e})();export{at as AuthModule};
