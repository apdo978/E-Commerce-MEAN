import{a as R}from"./chunk-K3S5MTWS.js";import{e as lt,f as mt,r as ut}from"./chunk-OQFNUX7I.js";import"./chunk-RDONBS7L.js";import{A as it,D as nt,G as ot,H as rt,I as at,J as ct,a as V,d as Y,fa as pt,g as G,ha as dt,ia as st,m as J,o as w,q as K,r as X,t as Z,v as tt,x as et}from"./chunk-I2TVIS6N.js";import{Cb as A,Db as N,Eb as U,Fa as o,Fc as D,Ga as r,Ha as _,K as P,Kc as I,L as B,Lc as q,Mc as m,Oa as h,Ob as W,Qa as y,T as H,U as L,Y as j,Ya as c,Za as b,_a as g,ab as E,bb as F,cb as k,fa as $,ga as a,ha as C,hb as M,ib as v,kb as Q,o as l,ua as u,wa as p,wb as x,xb as S,za as z,zb as O}from"./chunk-IHZFMBYR.js";var gt=(()=>{class e{http;constructor(t){this.http=t}getAllProducts(){return this.http.get(`${m.apiUrl}/products/getAllProducts`).pipe(l(t=>t.data.data))}getProductById(t){return this.http.get(`${m.apiUrl}/products/${t}`).pipe(l(i=>i.data.data))}createProduct(t){return this.http.post(`${m.apiUrl}/products/insertProduct`,t).pipe(l(i=>i.data.data))}updateProduct(t,i){return this.http.patch(`${m.apiUrl}/products/${t}`,i).pipe(l(n=>n.data.data))}deleteProduct(t){return this.http.delete(`${m.apiUrl}/products/${t}`).pipe(l(i=>i.data.data))}getProductsByCategory(t){return this.http.get(`${m.apiUrl}/products/category/${t}`).pipe(l(i=>i.data.data))}placeOrder(t){return this.http.post(`${m.apiUrl}/products/order`,t).pipe(l(i=>i.data.data))}getLastOrders(){return this.http.get(`${m.apiUrl}/products/lastOrders`).pipe(l(t=>t.data.data))}static \u0275fac=function(i){return new(i||e)(j(U))};static \u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pt(e,s){if(e&1&&(o(0,"mat-icon"),c(1),r()),e&2){let t=s.$implicit;z(t),a(),g(" ",t," ")}}function vt(e,s){if(e&1&&(o(0,"div",11),u(1,Pt,2,3,"mat-icon",12),o(2,"span",13),c(3),r()()),e&2){let t=y();a(),p("ngForOf",t.getRatingStars(t.product.rating.rate)),a(2),g("(",t.product.rating.count,")")}}function xt(e,s){if(e&1&&(o(0,"span",14),c(1),r()),e&2){let t=y();a(),g("In Stock (",t.product.qunt,")")}}function St(e,s){e&1&&(o(0,"span",15),c(1,"Out of Stock"),r())}var ft=(()=>{class e{cartService;snackBar;product;constructor(t,i){this.cartService=t,this.snackBar=i}addToCart(){console.log("Adding product to cart:",this.product),this.cartService.addToCart(this.product).subscribe({next:()=>{this.snackBar.open("Product added to cart","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"})},error:t=>{this.snackBar.open("Failed to add product to cart","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"}),console.error("Error adding to cart:",t)}})}getRatingStars(t){if(!t)return Array(5).fill("star_border");let i=[],n=Math.floor(t),f=t%1>=.5;for(let d=0;d<n;d++)i.push("star");for(f&&i.push("star_half");i.length<5;)i.push("star_border");return i}static \u0275fac=function(i){return new(i||e)(C(R),C(pt))};static \u0275cmp=P({type:e,selectors:[["app-product-card"]],inputs:{product:"product"},decls:22,vars:16,consts:[[1,"product-card"],["mat-card-image","",3,"src","alt"],[1,"product-title"],[1,"product-category"],["class","product-rating",4,"ngIf"],[1,"product-description"],[1,"product-price"],[1,"price"],["class","stock",4,"ngIf"],["class","out-of-stock",4,"ngIf"],["mat-raised-button","","color","primary",1,"add-to-cart-btn",3,"disabled","click"],[1,"product-rating"],[3,"class",4,"ngFor","ngForOf"],[1,"rating-count"],[1,"stock"],[1,"out-of-stock"]],template:function(i,n){i&1&&(o(0,"mat-card",0),_(1,"img",1),o(2,"mat-card-content")(3,"h2",2),c(4),r(),o(5,"p",3),c(6),M(7,"titlecase"),r(),u(8,vt,4,2,"div",4),o(9,"p",5),c(10),M(11,"slice"),r(),o(12,"div",6)(13,"span",7),c(14),r(),u(15,xt,2,1,"span",8)(16,St,2,0,"span",9),r()(),o(17,"mat-card-actions")(18,"button",10),h("click",function(){return n.addToCart()}),o(19,"mat-icon"),c(20,"shopping_cart"),r(),c(21," Add to Cart "),r()()()),i&2&&(a(),p("src",n.product.image||"assets/images/placeholder.png",$)("alt",n.product.title),a(3),b(n.product.title),a(2),b(v(7,10,n.product.category)),a(2),p("ngIf",n.product.rating),a(2),g("",Q(11,12,n.product.description,0,100),"..."),a(4),g("$",n.product.price,""),a(),p("ngIf",n.product.qunt>0),a(),p("ngIf",n.product.qunt<=0),a(2),p("disabled",n.product.qunt<=0))},dependencies:[x,S,w,X,tt,Z,et,I,A,O],styles:[".product-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;transition:transform .2s,box-shadow .2s}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 8px #0000001a}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:contain;padding:1rem;background-color:#f8f9fa}mat-card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.product-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin:0;color:#333}.product-category[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin:0}.product-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;color:#ffc107}.product-rating[_ngcontent-%COMP%]   .rating-count[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-left:.5rem}.product-description[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin:.5rem 0;line-height:1.4}.product-price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:1rem}.product-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;color:#28a745}.product-price[_ngcontent-%COMP%]   .stock[_ngcontent-%COMP%]{color:#28a745;font-size:.875rem}.product-price[_ngcontent-%COMP%]   .out-of-stock[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem}mat-card-actions[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:center}mat-card-actions[_ngcontent-%COMP%]   .add-to-cart-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:.5rem}"]})}return e})();function It(e,s){if(e&1&&(o(0,"mat-option",14),c(1),M(2,"titlecase"),r()),e&2){let t=s.$implicit;p("value",t),a(),g(" ",v(2,2,t)," ")}}function wt(e,s){e&1&&(o(0,"div",15),_(1,"mat-spinner"),r())}function bt(e,s){e&1&&(o(0,"div",16)(1,"mat-icon"),c(2,"search_off"),r(),o(3,"p"),c(4,"No products found matching your criteria"),r()())}function Et(e,s){if(e&1&&_(0,"app-product-card",19),e&2){let t=s.$implicit;p("product",t)}}function Ft(e,s){if(e&1&&(o(0,"div",17),u(1,Et,1,1,"app-product-card",18),r()),e&2){let t=y();a(),p("ngForOf",t.filteredProducts)}}var ht=(()=>{class e{productService;products=[];filteredProducts=[];categories=[];selectedCategory="";searchQuery="";isLoading=!1;constructor(t){this.productService=t}ngOnInit(){this.loadProducts()}loadProducts(){this.isLoading=!0,this.productService.getAllProducts().subscribe({next:t=>{this.products=t,this.filteredProducts=t,this.categories=[...new Set(t.map(i=>i.category))],this.isLoading=!1},error:t=>{console.error("Error loading products:",t),this.isLoading=!1}})}filterByCategory(t){this.selectedCategory=t,this.applyFilters()}searchProducts(t){this.searchQuery=t,this.applyFilters()}clearFilters(){this.selectedCategory="",this.searchQuery="",this.filteredProducts=this.products}applyFilters(){this.filteredProducts=this.products.filter(t=>{let i=!this.selectedCategory||t.category===this.selectedCategory,n=!this.searchQuery||t.title.toLowerCase().includes(this.searchQuery.toLowerCase())||t.description.toLowerCase().includes(this.searchQuery.toLowerCase());return i&&n})}static \u0275fac=function(i){return new(i||e)(C(gt))};static \u0275cmp=P({type:e,selectors:[["app-home"]],decls:23,vars:6,consts:[[1,"home-container"],[1,"filters-section"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name or description",3,"ngModel","ngModelChange","keyup"],["matSuffix",""],["appearance","outline",1,"category-field"],[3,"ngModel","ngModelChange","selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"],[1,"products-section"],["class","loading-spinner",4,"ngIf"],["class","no-products",4,"ngIf"],["class","products-grid",4,"ngIf"],[3,"value"],[1,"loading-spinner"],[1,"no-products"],[1,"products-grid"],[3,"product",4,"ngFor","ngForOf"],[3,"product"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),c(4,"Search Products"),r(),o(5,"input",3),k("ngModelChange",function(d){return F(n.searchQuery,d)||(n.searchQuery=d),d}),h("keyup",function(){return n.searchProducts(n.searchQuery)}),r(),o(6,"mat-icon",4),c(7,"search"),r()(),o(8,"mat-form-field",5)(9,"mat-label"),c(10,"Category"),r(),o(11,"mat-select",6),k("ngModelChange",function(d){return F(n.selectedCategory,d)||(n.selectedCategory=d),d}),h("selectionChange",function(d){return n.filterByCategory(d.value)}),o(12,"mat-option",7),c(13,"All Categories"),r(),u(14,It,3,4,"mat-option",8),r()(),o(15,"button",9),h("click",function(){return n.clearFilters()}),o(16,"mat-icon"),c(17,"clear"),r(),c(18," Clear Filters "),r()(),o(19,"div",10),u(20,wt,2,0,"div",11)(21,bt,5,0,"div",12)(22,Ft,2,1,"div",13),r()()),i&2&&(a(5),E("ngModel",n.searchQuery),a(6),E("ngModel",n.selectedCategory),a(3),p("ngForOf",n.categories),a(6),p("ngIf",n.isLoading),a(),p("ngIf",!n.isLoading&&n.filteredProducts.length===0),a(),p("ngIf",!n.isLoading&&n.filteredProducts.length>0))},dependencies:[x,S,V,Y,G,w,at,ot,it,nt,I,dt,lt,D,ft,O],styles:[".home-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.filters-section[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;flex-wrap:wrap;align-items:center}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:1;min-width:300px}.filters-section[_ngcontent-%COMP%]   .category-field[_ngcontent-%COMP%]{min-width:200px}.products-section[_ngcontent-%COMP%]{position:relative;min-height:400px}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px}.no-products[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#666;gap:1rem}.no-products[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2rem;padding:1rem 0}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .category-field[_ngcontent-%COMP%]{width:100%}.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}}"]})}return e})();var kt=[{path:"",component:ht}],oe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=B({type:e});static \u0275inj=L({imports:[N,J,ut,W.forChild(kt),rt,ct,mt,q,st,K]})}return e})();export{oe as HomeModule};
