import{r as pt}from"./chunk-EF3UGG23.js";import"./chunk-ZMX27XMN.js";import{a as w}from"./chunk-X7NW5P62.js";import{a as E,b as p,d as P,e as I,h as F,i as L,j as O,l as k,m as nt,n as it,o as A,p as D,u as G,v as mt,w as V,x as st}from"./chunk-W2JZTVEG.js";import{J as z,K as lt,L as X,M as dt,a as T,c as ot,d as N,e as R,f as j,h as q,i as B,l as at}from"./chunk-6GY3LIXI.js";import{Fb as tt,Ha as n,Ia as r,Ja as g,L as x,M as Z,Nb as b,Ob as y,Oc as rt,Qa as v,Rb as et,Sc as H,Tc as h,V as $,Vc as f,Wc as W,Xc as Y,_a as i,ia as a,ja as c,wa as u,ya as o,zb as S}from"./chunk-FUN73IET.js";function wt(t,s){t&1&&(n(0,"mat-error"),i(1," Email is required "),r())}function Et(t,s){t&1&&(n(0,"mat-error"),i(1," Please enter a valid email address "),r())}function Pt(t,s){t&1&&(n(0,"mat-error"),i(1," Password is required "),r())}function It(t,s){t&1&&(n(0,"mat-error"),i(1," Password must be at least 6 characters "),r())}function Ft(t,s){t&1&&g(0,"mat-spinner",11)}function Lt(t,s){t&1&&(n(0,"span"),i(1,"Login"),r())}var ut=(()=>{class t{fb;authService;router;snackBar;loginForm;isLoading=!1;formState="";constructor(l,m,e,d){this.fb=l,this.authService=m,this.router=e,this.snackBar=d,this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0;let{email:l,password:m}=this.loginForm.value;this.authService.login(l,m).subscribe({next:()=>{this.isLoading=!1,this.showSuccessAnimation(),this.snackBar.open("Login successful! Welcome back! \u{1F389}","Close",{duration:3e3,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"top"}),setTimeout(()=>{this.router.navigate(["/home"])},1e3)},error:e=>{this.isLoading=!1,this.showErrorAnimation(),this.snackBar.open(e.error?.message||"Invalid email or password","Close",{duration:3e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}})}else this.formState="invalid",setTimeout(()=>this.formState="",500)}showSuccessAnimation(){this.formState="success"}showErrorAnimation(){this.formState="invalid",setTimeout(()=>this.formState="",500)}static \u0275fac=function(m){return new(m||t)(c(k),c(w),c(b),c(z))};static \u0275cmp=x({type:t,selectors:[["app-login"]],decls:27,vars:10,consts:[[1,"login-container"],[1,"login-card"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],[4,"ngIf"],["matInput","","formControlName","password","type","password","placeholder","Enter your password"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20",4,"ngIf"],[1,"text-center"],["routerLink","/auth/register"],["diameter","20"]],template:function(m,e){if(m&1&&(n(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),i(4,"Login"),r()(),n(5,"mat-card-content")(6,"form",2),v("ngSubmit",function(){return e.onSubmit()}),n(7,"mat-form-field",3)(8,"mat-label"),i(9,"Email"),r(),g(10,"input",4),u(11,wt,2,0,"mat-error",5)(12,Et,2,0,"mat-error",5),r(),n(13,"mat-form-field",3)(14,"mat-label"),i(15,"Password"),r(),g(16,"input",6),u(17,Pt,2,0,"mat-error",5)(18,It,2,0,"mat-error",5),r(),n(19,"button",7),u(20,Ft,1,0,"mat-spinner",8)(21,Lt,2,0,"span",5),r()()(),n(22,"mat-card-actions")(23,"p",9),i(24," Don't have an account? "),n(25,"a",10),i(26,"Register here"),r()()()()()),m&2){let d,_,C,M;o("@fadeInOut",void 0),a(),o("@shake",e.formState),a(5),o("formGroup",e.loginForm),a(5),o("ngIf",(d=e.loginForm.get("email"))==null?null:d.hasError("required")),a(),o("ngIf",(_=e.loginForm.get("email"))==null?null:_.hasError("email")),a(5),o("ngIf",(C=e.loginForm.get("password"))==null?null:C.hasError("required")),a(),o("ngIf",(M=e.loginForm.get("password"))==null?null:M.hasError("minlength")),a(),o("disabled",e.loginForm.invalid||e.isLoading),a(),o("ngIf",e.isLoading),a(),o("ngIf",!e.isLoading)}},dependencies:[S,F,E,P,I,L,O,T,N,q,j,B,R,V,G,A,D,X,y],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:20px}.login-card[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:20px;box-shadow:0 4px 6px #0000001a}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}mat-card-header[_ngcontent-%COMP%]{margin-bottom:20px;justify-content:center}mat-card-title[_ngcontent-%COMP%]{font-size:24px;color:#333}mat-card-actions[_ngcontent-%COMP%]{padding:16px;text-align:center}.text-center[_ngcontent-%COMP%]{text-align:center;margin:0;color:#666}a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}button[type=submit][_ngcontent-%COMP%]{height:48px;font-size:16px;display:flex;justify-content:center;align-items:center}mat-spinner[_ngcontent-%COMP%]{margin:0 auto}",`.login-container[_ngcontent-%COMP%] {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 80vh;
  padding: 20px;
}

.login-card[_ngcontent-%COMP%] {
  width: 100%;
  max-width: 400px;
  margin: auto;
}

.full-width[_ngcontent-%COMP%] {
  width: 100%;
  margin-bottom: 16px;
}

.text-center[_ngcontent-%COMP%] {
  text-align: center;
  margin: 16px 0;
}

[_nghost-%COMP%]     .success-snackbar {
  background: #4caf50;
  color: white;
}

[_nghost-%COMP%]     .error-snackbar {
  background: #f44336;
  color: white;
}

mat-form-field[_ngcontent-%COMP%] {
  margin-bottom: 16px;
}

button[type="submit"][_ngcontent-%COMP%] {
  margin-top: 16px;
}

.mat-mdc-card-header[_ngcontent-%COMP%] {
  margin-bottom: 16px;
}`],data:{animation:[H("fadeInOut",[W("void",f({opacity:0,transform:"translateY(-20px)"})),Y("void <=> *",h("300ms ease-in-out"))]),H("shake",[W("invalid",f({transform:"translateX(0)"})),Y("* => invalid",[h("100ms",f({transform:"translateX(-10px)"})),h("100ms",f({transform:"translateX(10px)"})),h("100ms",f({transform:"translateX(-10px)"})),h("100ms",f({transform:"translateX(0)"}))])])]}})}return t})();function Ot(t,s){t&1&&(n(0,"mat-error"),i(1," Name is required "),r())}function kt(t,s){t&1&&(n(0,"mat-error"),i(1," Name must be at least 3 characters "),r())}function Tt(t,s){t&1&&(n(0,"mat-error"),i(1," Email is required "),r())}function Nt(t,s){t&1&&(n(0,"mat-error"),i(1," Please enter a valid email address "),r())}function Rt(t,s){t&1&&(n(0,"mat-error"),i(1," Password is required "),r())}function jt(t,s){t&1&&(n(0,"mat-error"),i(1," Password must be at least 6 characters "),r())}function qt(t,s){t&1&&(n(0,"mat-error"),i(1," Please confirm your password "),r())}function Bt(t,s){t&1&&(n(0,"mat-error"),i(1," Passwords do not match "),r())}function At(t,s){t&1&&g(0,"mat-spinner",13)}function Dt(t,s){t&1&&(n(0,"span"),i(1,"Register"),r())}var gt=(()=>{class t{fb;authService;router;snackBar;registerForm;isLoading=!1;constructor(l,m,e,d){this.fb=l,this.authService=m,this.router=e,this.snackBar=d,this.registerForm=this.fb.group({name:["",[p.required,p.minLength(3)]],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],confirmPassword:["",[p.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(l){let m=l.get("password"),e=l.get("confirmPassword");m&&e&&m.value!==e.value&&e.setErrors({passwordMismatch:!0})}onSubmit(){if(this.registerForm.valid){this.isLoading=!0;let{name:l,email:m,password:e}=this.registerForm.value;this.authService.register({name:l,email:m,password:e}).subscribe({next:()=>{this.router.navigate(["/auth/login"])},error:d=>{this.isLoading=!1,this.snackBar.open(d.error.data.data||"Wrong Inputs","Close",{duration:3e3,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}})}}static \u0275fac=function(m){return new(m||t)(c(k),c(w),c(b),c(z))};static \u0275cmp=x({type:t,selectors:[["app-register"]],decls:39,vars:12,consts:[[1,"register-container"],[1,"register-card"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","placeholder","Enter your name"],[4,"ngIf"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matInput","","formControlName","password","type","password","placeholder","Enter your password"],["matInput","","formControlName","confirmPassword","type","password","placeholder","Confirm your password"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20",4,"ngIf"],[1,"text-center"],["routerLink","/auth/login"],["diameter","20"]],template:function(m,e){if(m&1&&(n(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),i(4,"Register"),r()(),n(5,"mat-card-content")(6,"form",2),v("ngSubmit",function(){return e.onSubmit()}),n(7,"mat-form-field",3)(8,"mat-label"),i(9,"Name"),r(),g(10,"input",4),u(11,Ot,2,0,"mat-error",5)(12,kt,2,0,"mat-error",5),r(),n(13,"mat-form-field",3)(14,"mat-label"),i(15,"Email"),r(),g(16,"input",6),u(17,Tt,2,0,"mat-error",5)(18,Nt,2,0,"mat-error",5),r(),n(19,"mat-form-field",3)(20,"mat-label"),i(21,"Password"),r(),g(22,"input",7),u(23,Rt,2,0,"mat-error",5)(24,jt,2,0,"mat-error",5),r(),n(25,"mat-form-field",3)(26,"mat-label"),i(27,"Confirm Password"),r(),g(28,"input",8),u(29,qt,2,0,"mat-error",5)(30,Bt,2,0,"mat-error",5),r(),n(31,"button",9),u(32,At,1,0,"mat-spinner",10)(33,Dt,2,0,"span",5),r()()(),n(34,"mat-card-actions")(35,"p",11),i(36," Already have an account? "),n(37,"a",12),i(38,"Login here"),r()()()()()),m&2){let d,_,C,M,J,K,Q,U;a(6),o("formGroup",e.registerForm),a(5),o("ngIf",(d=e.registerForm.get("name"))==null?null:d.hasError("required")),a(),o("ngIf",(_=e.registerForm.get("name"))==null?null:_.hasError("minlength")),a(5),o("ngIf",(C=e.registerForm.get("email"))==null?null:C.hasError("required")),a(),o("ngIf",(M=e.registerForm.get("email"))==null?null:M.hasError("email")),a(5),o("ngIf",(J=e.registerForm.get("password"))==null?null:J.hasError("required")),a(),o("ngIf",(K=e.registerForm.get("password"))==null?null:K.hasError("minlength")),a(5),o("ngIf",(Q=e.registerForm.get("confirmPassword"))==null?null:Q.hasError("required")),a(),o("ngIf",(U=e.registerForm.get("confirmPassword"))==null?null:U.hasError("passwordMismatch")),a(),o("disabled",e.registerForm.invalid||e.isLoading),a(),o("ngIf",e.isLoading),a(),o("ngIf",!e.isLoading)}},dependencies:[S,F,E,P,I,L,O,T,N,q,j,B,R,V,G,A,D,X,y],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:20px}.register-card[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:20px;box-shadow:0 4px 6px #0000001a}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}mat-card-header[_ngcontent-%COMP%]{margin-bottom:20px;justify-content:center}mat-card-title[_ngcontent-%COMP%]{font-size:24px;color:#333}mat-card-actions[_ngcontent-%COMP%]{padding:16px;text-align:center}.text-center[_ngcontent-%COMP%]{text-align:center;margin:0;color:#666}a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}button[type=submit][_ngcontent-%COMP%]{height:48px;font-size:16px;display:flex;justify-content:center;align-items:center}mat-spinner[_ngcontent-%COMP%]{margin:0 auto}"]})}return t})();var Gt=[{path:"login",component:ut},{path:"register",component:gt}],ae=(()=>{class t{static \u0275fac=function(m){return new(m||t)};static \u0275mod=Z({type:t});static \u0275inj=$({imports:[tt,nt,it,pt,et.forChild(Gt),mt,st,ot,at,rt,lt,dt]})}return t})();export{ae as AuthModule};
